spring:
  application:
    name: ${SPRING_APPLICATION_NAME:homework-assistant-bot}

  task:
    execution:
      pool:
        core-size: ${TASK_CORE_SIZE:5}
        max-size: ${TASK_MAX_SIZE:10}
        queue-capacity: ${TASK_QUEUE_CAPACITY:100}

  datasource:
    url: ${DB_URL:jdbc:postgresql://localhost:5432/homework_bot}
    username: ${DB_USERNAME:postgres}
    password: ${DB_PASSWORD:postgres}
    hikari:
      maximum-pool-size: ${DB_MAX_POOL_SIZE:10}
      minimum-idle: ${DB_MIN_IDLE:5}

  jpa:
    hibernate:
      ddl-auto: ${JPA_DDL_AUTO:validate}
    show-sql: ${JPA_SHOW_SQL:true}
    properties:
      hibernate:
        dialect: ${JPA_DIALECT:org.hibernate.dialect.PostgreSQLDialect}
        format_sql: true

  liquibase:
    enabled: ${LIQUIBASE_ENABLED:true}
    change-log: ${LIQUIBASE_CHANGELOG:classpath:db/changelog/db.changelog-master.yaml}

  cache:
    type: ${CACHE_TYPE:simple}
    cache-names:
      - ${CACHE_NAMES:prInfo}

telegram:
  bot:
    username: ${BOT_USERNAME:java_code_assistant_bot}
    token: ${BOT_TOKEN:}
    timeout: ${BOT_TIMEOUT:30}
    admin:
      chat-id: ${ADMIN_CHAT_ID:}
      notify-on-submission: ${ADMIN_NOTIFY_SUBMISSION:true}
      notify-on-review: ${ADMIN_NOTIFY_REVIEW:true}
      notify-on-error: ${ADMIN_NOTIFY_ERROR:true}
      admin-ids: ${ADMIN_IDS:}

github:
  token: ${GITHUB_TOKEN:}
  api-url: ${GITHUB_API_URL:https://api.github.com}
  connect-timeout: ${GITHUB_CONNECT_TIMEOUT:30000}
  read-timeout: ${GITHUB_READ_TIMEOUT:60000}
  max-retries: ${GITHUB_MAX_RETRIES:3}

logging:
  level:
    ru.assistant.bot: ${LOG_LEVEL_BOT:DEBUG}
    org.springframework: ${LOG_LEVEL_SPRING:INFO}
    org.telegram: ${LOG_LEVEL_TELEGRAM:DEBUG}
    org.hibernate.SQL: ${LOG_LEVEL_HIBERNATE_SQL:DEBUG}
    org.hibernate.type: ${LOG_LEVEL_HIBERNATE_TYPE:TRACE}
    ru.assistant.bot.github: ${LOG_LEVEL_GITHUB:DEBUG}
    org.kohsuke.github: ${LOG_LEVEL_KOHSUKE:DEBUG}
  pattern:
    console: "${LOG_PATTERN_CONSOLE:%d{HH:mm:ss} %-5level [%thread] %logger{36} - %msg%n}"
#  file:
#    name: ${LOG_FILE:logs/homework-bot.log}

server:
  port: ${SERVER_PORT:8080}